import sys
import platform
if platform.system() == 'Linux':
    sys.path.append('/allen/programs/braintv/workgroups/nc-ophys/Doug/pbstools')
from pbstools import PythonJob # flake8: noqa: E999


# # VisualBehavior production as of 3/20/19
# experiment_ids = [775614751, 778644591, 782675436, 783927872, 783928214, 784482326,
#        787461073, 787498309, 787501821, 788488596, 788489531, 788490510,
#        789359614, 790149413, 790709081, 791119849, 791453282,
#        791980891, 792812544, 792813858, 792815735, 792816531, 794378505,
#        794381992, 795073741, 795075034, 795076128, 795948257, 795952471,
#        795952488, 795953296, 796105304, 796105823, 796106321, 796106850,
#        796108483, 796306417, 796308505, 797255551, 798392580, 798403387,
#        798404219, 799366517, 799368262, 799368904, 803736273, 805100431,
#        805784313, 805784331, 806455766, 806456687, 806989729, 807752719,
#        807753318, 807753334, 807753920, 808619543, 808621015, 808621034,
#        808621958, 809497730, 809501118, 811456530, 811458048, 813083478,
#        814610580, 815097949, 815652334, 817267785, 817267860, 818073631,
#        819432482, 819434449, 820307518, 822024770,
#        822028017, 822028587, 822641265, 822647116, 822647135, 822656725,
#        823392290, 823396897, 823401226, 824333777, 825120601, 825130141,
#        825623170, 826583436, 826585773, 826587940, 830093338, 830700781,
#        830700800, 831330404, 832117336, 833629926, 833629942, 833631914,
#        834275020, 834275038, 834279496, 836258936, 836258957, 836260147,
#        836910438, 836911939, 837296345, 837729902, 838849930]

#Mesoscope production as of 4/25
experiment_ids = [816242065, 816242073, 816242080, 816242091, 816242095, 816242105, 816242114, 816242121,
       811911167, 811911171, 811911175, 811911179, 811911182, 811911184, 811911186, 811911188,
       810623714, 810623716, 810623718, 810623720, 810623722, 810623724, 810623726, 810623728,
       807432861, 807432867, 807432871, 807432876, 807432883, 807432891, 807432899, 807432903,
       804835920, 804835922, 804835924, 804835926, 804835928, 804835930, 804835932, 804835934,
       792694983, 792694987, 792694996, 792695013, 792695018, 792695021, 792695028, 792695031,
       791748112, 791748114, 791748116, 791748118, 791748122, 791748124, 791748126, 791748128,
       791262690, 791262693, 791262695, 791262698, 791262701, 791262705, 791262708, 791262710,
       790261676, 790261687, 790261695, 790261701, 790261711, 790261714, 790261719, 790261723,
       789989571, 789989573, 789989575, 789989578, 789989582, 789989586, 789989590, 789989594,
       790002022, 790002024, 790002026, 790002030, 790002034, 790002038, 790002040, 790002044,
       788325934, 788325938, 788325940, 788325944, 788325946, 788325948, 788325950, 788325953,
       787282617, 787282625, 787282643, 787282662, 787282676, 787282685, 787282699, 787282708,
       783477276, 783477281, 783477287, 783477293, 783477300, 783477307, 783477311, 783477325,
       781340173, 781340175, 781340177, 781340179, 781340181, 781340186, 781340190, 781340192,
       781354912, 781354915, 781354917, 781354920, 781354922, 781354924, 781354928, 781354932,
       781316513, 781316515, 781316517, 781316519, 781316521, 781316523, 781316527, 781316532,
       781304550, 781304553, 781304555, 781304557, 781304561, 781304563, 781304567, 781304571,
       781304524, 781304528, 781304532, 781304534, 781304536, 781304540, 781304543, 781304547,
       781304498, 781304500, 781304504, 781304508, 781304512, 781304514, 781304516, 781304520,
       769724580, 769724588, 769724595, 769724602, 769724608, 769724615, 769724623, 769724630,
       776865698, 776865704, 776865710, 776865717, 776865720, 776865723, 776865731, 776865738,
       779319647, 779319650, 779319654, 779319658, 779319666, 779319669, 779319672, 779319675,
       779798855, 779798862, 779798874, 779798893, 779798900, 779798907, 779798914, 779798923,
       807353849, 807353859, 807353867, 807353869, 807353871, 807353874, 807353878, 807353880,
       807310576, 807310578, 807310580, 807310582, 807310584, 807310587, 807310592, 807310594,
       ]

python_file = r"/home/marinag/visual_behavior_analysis/scripts/create_analysis_files.py"

jobdir = '/allen/programs/braintv/workgroups/nc-ophys/Marina/ClusterJobs/JobRecords2'

job_settings = {'queue': 'braintv',
                'mem': '100g',
                'walltime': '10:00:00',
                'ppn': 1,
                'jobdir': jobdir,
                }

for experiment_id in experiment_ids:
    PythonJob(
        python_file,
        python_executable='/home/marinag/anaconda2/envs/visual_behavior_ophys/bin/python',
        python_args=experiment_id,
        conda_env=None,
        jobname='process_{}'.format(experiment_id),
        **job_settings
    ).run(dryrun=False)
